import{a as E,c as F,d as C,K as M,r as l,N as V,H as f,o as m,I as S,e as g,f as t,t as D,g as $,h as o,l as I,F as P,i as N,L as Y,M as z,u as A}from"./index-896a6a3c.js";import{_ as d}from"./CustomInput.vue_vue_type_script_setup_true_lang-21dea55c.js";import{_ as G}from"./CustomButton.vue_vue_type_script_setup_true_lang-eefcf440.js";function H(){return E({mutationFn:F.put})}const K={key:0,class:"error-messages"},O=["onSubmit"],R={class:"form-group"},j={class:"form-group"},q={class:"form-group"},J={class:"form-group"},Q={class:"form-group"},T=C({__name:"SettingsForm",setup(L){var b,k,x,w;const{data:a,isLoading:p,isError:h}=M(),{mutateAsync:y}=H(),u=l(((b=a.value)==null?void 0:b.image)??""),n=l(((k=a.value)==null?void 0:k.username)??""),r=l(((x=a.value)==null?void 0:x.bio)??""),i=l(((w=a.value)==null?void 0:w.email)??""),v=l(""),_=l("");async function B(){try{await y({image:u.value.length>0?u.value:void 0,username:n.value.length>0?n.value:void 0,bio:r.value.length>0?r.value:void 0,email:i.value.length>0?i.value:void 0,password:v.value.length>0?v.value:void 0}),N.push("/")}catch(c){_.value=c}}return V(a,()=>{var c,e,s,U;u.value=((c=a.value)==null?void 0:c.image)??"",n.value=((e=a.value)==null?void 0:e.username)??"",r.value=((s=a.value)==null?void 0:s.bio)??"",i.value=((U=a.value)==null?void 0:U.email)??"",v.value=""}),(c,e)=>f(p)?(m(),S(Y,{key:0})):f(h)?(m(),S(z,{key:1})):f(a)?(m(),g(P,{key:2},[_.value.length>0?(m(),g("ul",K,[t("li",null,D(_.value),1)])):$("",!0),t("form",{onSubmit:I(B,["prevent"])},[t("fieldset",R,[o(d,{type:"text",placeholder:"URL of profile picture",value:u.value,"onUpdate:value":e[0]||(e[0]=s=>u.value=s)},null,8,["value"])]),t("fieldset",j,[o(d,{type:"text",placeholder:"Your Name",value:n.value,"onUpdate:value":e[1]||(e[1]=s=>n.value=s)},null,8,["value"])]),t("fieldset",q,[o(d,{type:"text",placeholder:"Short bio about you","is-text-area":"",value:r.value,"onUpdate:value":e[2]||(e[2]=s=>r.value=s)},null,8,["value"])]),t("fieldset",J,[o(d,{type:"email",placeholder:"Email",value:i.value,"onUpdate:value":e[3]||(e[3]=s=>i.value=s)},null,8,["value"])]),t("fieldset",Q,[o(d,{type:"password",placeholder:"New Password",value:v.value,"onUpdate:value":e[4]||(e[4]=s=>v.value=s)},null,8,["value"])]),o(G,{type:"submit",text:"Update Settings"})],40,O)],64)):$("",!0)}}),W={class:"settings-page"},X={class:"container page"},Z={class:"row"},ee={class:"col-md-6 offset-md-3 col-xs-12"},te=t("h1",{class:"text-xs-center"},"Your Settings",-1),ae=t("hr",null,null,-1),ue=C({__name:"SettingsView",setup(L){const{cookies:a}=A();function p(){a.remove("authorization"),N.push("/")}return(h,y)=>(m(),g("div",W,[t("div",X,[t("div",Z,[t("div",ee,[te,o(T),ae,t("button",{onClick:p,class:"btn btn-outline-danger"},"Or click here to logout.")])])])]))}});export{ue as default};
