import{B as V,C as R,S as U,d as w,r as g,O as G,P as E,H as e,I as l,e as u,F as h,G as I,h as L,Q as M,g as p,o as s,R as T,L as P,M as C,T as N,J as z,p as D,K,f as a,t as v,w as Q,x as b,k as q,i as F,U as $,y as H,z as j,_ as J}from"./index-81273894.js";import{p as O,b as W,u as X,a as Y}from"./useDeleteFollow-b2a4d10b.js";function Z(o){return V({queryKey:O.username(o),queryFn:()=>W.get(o.value),cacheTime:R,staleTime:U})}const ee=w({__name:"MyArticlesList",props:{username:{}},setup(o){const{username:n}=o,i=g(1),d=g(n),{data:t,isLoading:f,isError:y}=G(d,i),m=E(()=>{var c;return Math.ceil((((c=t.value)==null?void 0:c.articlesCount)??10)/10)});return(c,_)=>e(f)?(s(),l(P,{key:0})):e(y)?(s(),l(C,{key:1})):e(t)?(s(),u(h,{key:2},[(s(!0),u(h,null,I(e(t).articles,r=>(s(),l(T,{key:r.slug,"article-info":r},null,8,["article-info"]))),128)),L(M,{currentPage:i.value,"onUpdate:currentPage":_[0]||(_[0]=r=>i.value=r),totalPages:m.value},null,8,["currentPage","totalPages"])],64)):p("",!0)}}),te=w({__name:"FavoritedArticlesList",props:{username:{}},setup(o){const{username:n}=o,i=g(1),d=g(n),{data:t,isLoading:f,isError:y}=N(d,i),m=E(()=>{var c;return Math.ceil((((c=t.value)==null?void 0:c.articlesCount)??10)/10)});return(c,_)=>e(f)?(s(),l(P,{key:0})):e(y)?(s(),l(C,{key:1})):e(t)?(s(),u(h,{key:2},[(s(!0),u(h,null,I(e(t).articles,r=>(s(),l(T,{key:r.slug,"article-info":r},null,8,["article-info"]))),128)),L(M,{currentPage:i.value,"onUpdate:currentPage":_[0]||(_[0]=r=>i.value=r),totalPages:m.value},null,8,["currentPage","totalPages"])],64)):p("",!0)}}),se=o=>(H("data-v-9c31b48a"),o=o(),j(),o),ae={key:2,class:"profile-page"},oe={class:"user-info"},ne={class:"container"},re={class:"row"},le={class:"col-xs-12 col-md-10 offset-md-1"},ie=["src"],ce=se(()=>a("i",{class:"ion-gear-a"},null,-1)),ue={key:0,class:"ion-plus-round"},de={key:1,class:"ion-minus-round"},_e={class:"container"},me={class:"row"},fe={class:"col-xs-12 col-md-10 offset-md-1"},ye={class:"articles-toggle"},pe={class:"nav nav-pills outline-active"},ge={class:"nav-item"},ve={class:"nav-item"},he=w({__name:"ProfileView",setup(o){const n=z(),i=D(),d=g(n.path.split("/")[2]),{data:t,isLoading:f,isError:y}=Z(d),{data:m}=K(),{mutate:c}=X(i,d),{mutate:_}=Y(i,d);function r(){F.replace({path:"#",query:{tab:"my-articles"}})}function B(){F.replace({path:"#",query:{tab:"favorited-articles"}})}function S(){var k;(k=t.value)!=null&&k.following?_():c()}return(k,ke)=>{var x,A;return e(f)?(s(),l(P,{key:0})):e(y)?(s(),l(C,{key:1})):e(t)?(s(),u("div",ae,[a("div",oe,[a("div",ne,[a("div",re,[a("div",le,[a("img",{src:((x=e(t))==null?void 0:x.image.length)>0?e(t).image:"https://static.vecteezy.com/system/resources/previews/008/442/086/non_2x/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg",class:"user-img"},null,8,ie),a("h4",null,v(e(t).username),1),a("p",null,v(e(t).bio),1),((A=e(m))==null?void 0:A.username)===e(t).username?(s(),l(e($),{key:0,to:"/settings",class:"btn btn-sm btn-outline-secondary action-btn"},{default:Q(()=>[ce,q("   Edit Profile Settings ")]),_:1})):e(m)?(s(),u("button",{key:1,class:b(["btn btn-sm btn-outline-secondary action-btn",{following:e(t).following}]),onClick:S},[e(t).following?(s(),u("i",de)):(s(),u("i",ue)),q("   "+v(e(t).following?"Unfollow":"Follow")+" "+v(e(t).username),1)],2)):p("",!0)])])])]),a("div",_e,[a("div",me,[a("div",fe,[a("div",ye,[a("ul",pe,[a("li",ge,[a("button",{onClick:r,class:b({"nav-link":!0,active:!e(n).query.tab||e(n).query.tab==="my-articles"})}," My Articles ",2)]),a("li",ve,[a("button",{onClick:B,class:b({"nav-link":!0,active:e(n).query.tab==="favorited-articles"})}," Favorited Articles ",2)])])]),!e(n).query.tab||e(n).query.tab==="my-articles"?(s(),l(ee,{key:0,username:e(t).username},null,8,["username"])):e(n).query.tab==="favorited-articles"?(s(),l(te,{key:1,username:e(t).username},null,8,["username"])):p("",!0)])])])])):p("",!0)}}});const Pe=J(he,[["__scopeId","data-v-9c31b48a"]]);export{Pe as default};
